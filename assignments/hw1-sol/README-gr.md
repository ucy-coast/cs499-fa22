# Εργασία 1 (Ατομική)

Προθεσμία Παράδοσης: 4 Οκτωβρίου 2022

Αυτή η εργασία αποτελείται από δύο μέρη. Αυτή είναι μια ατομική εργασία που θα διεξαχθεί ξεχωριστά από κάθε φοιτητή/τρια.

## Μέρος 1: Εισαγωγή στην Go

Σε αυτό το μέρος θα λύσετε δύο σύντομα προβλήματα ως τρόπο εξοικείωσης με τη γλώσσα προγραμματισμού Go. Αναμένουμε να έχετε ήδη βασικές γνώσεις της γλώσσας. Εάν όχι, σας συνιστούμε ανεπιφύλακτα να περάσετε από την [περιήγηση στο Golang](http://tour.golang.org/list) πριν ξεκινήσετε αυτήν την εργασία. Ξεκινήστε εγκαθιστώντας τη Go στον υπολογιστή σας ή χρησιμοποιήστε κάποιο μηχάνημα από το CloudLab με το προφιλ `multi-node-cluster`. Χρησιμοποιείστε την πιο πρόσφατη σταθερή έκδοση 1.18.

### Λογισμικό

Θα βρείτε τον κώδικα για αυτήν την εργασία στον ίδιο κατάλογο με αυτό τον οδηγό.
Τα δύο προβλήματα που πρέπει να λύσετε είναι στο αρχείο `wordcount.go` και στο αρχείο `wordindex.go`.
Το πρόβλημα στο `workindexall.go` είναι προαιρετικό και αξίζει έναν μικρό αριθμό επιπλέον πόντων.
Θα πρέπει να προσθέσετε κώδικα μόνο σε μέρη που λένε `TODO: υλοποίηση με`.
Μην αλλάξετε καμία από τις υπογραφές συναρτήσεων καθώς το πλαίσιο δοκιμών μας τις χρησιμοποιεί.

**Ε1 - Καταμέτρηση λέξεων**: Η εργασία είναι να μετρήσετε τις εμφανίσεις κάθε λέξης σε μια δεδομένη συμβολοσειρά.

**Ε2 - Ευρετήριο λέξεων**: Η εργασία είναι να βρείτε την πρώτη εμφάνιση κάθε λέξης σε μια δεδομένη συμβολοσειρά.

**Ε3 - Ευρετήριο λέξεων όλων (προαιρετική εργασία)**: Η εργασία είναι να βρείτε όλες τις εμφανίσεις κάθε λέξης σε μια δεδομένη συμβολοσειρά.

### Δοκιμή

Η βαθμολόγησή μας χρησιμοποιεί τα τεστ στο `wordcount_test.go` και στο `wordindex_test.go` που σας παρέχονται. Για να ελέγξετε την ορθότητα του κωδικού σας, εκτελέστε τα εξής:

```
$ cd wordutil
$ go test
```

Εάν όλα τα τεστ περάσουν, θα πρέπει να δείτε την ακόλουθη έξοδο:

```
$ go test
PASS
ok /path/to/wordutil 0.009s
```

## Μέρος 2: Μετρήσεις Ιεραρχίας Μνήμης

Σε αυτό το μέρος θα μελετήσετε την ιεραρχία της μνήμης και της αποθήκευσης στο κέντρο δεδομένων. Θα μετρήσετε και θα αναφέρετε τα χαρακτηριστικά καθυστέρησης, εύρους ζώνης και χωρητικότητας μιας συστοιχίας μηχανημάτων της επιλογής σας στο CloudLab. Συνιστάται να χρησιμοποιείτε έναν από τους παρακάτω τύπους μηχανημάτων: `c220g1`, `c240g1`, `c220g2`, `c240g2`, `c220g5`, `c240g5` (από το CloudLab Wisconsin). 

Παρουσιάστε τα αποτελέσματά σας σε ένα γράφημα παρόμοιο με αυτό που εξετάσαμε στην τάξη και σχολιάστε. Θα υποβάλετε τις απαντήσεις σας για αυτήν την εργασία ως αρχεία στον κατάλογο `hierarchy`. Προσθέστε τα σχόλια και τις παρατηρήσεις σας στο αρχείο κειμένου `README.md` στον κατάλογο `hierarchy`. Προσθέστε το γράφημά σας ως νέο αρχείο pdf ή εικόνας.

#### 1. Τοπική μνήμη

Για να μετρήσετε την καθυστέρηση και το εύρος ζώνης στην τοπική μνήμη (DRAM), μπορείτε να χρησιμοποιήσετε το εργαλείο `mlc` (Intel Memory Latency Checker) που είναι διαθέσιμο [εδώ](https://www.intel.com/content/www/us/en/developer /articles/tool/intelr-memory-latency-checker.html).

Για να βρείτε πόση φυσική μνήμη έχει το μηχάνημα, μπορείτε να χρησιμοποιήσετε την εντολή «cat /proc/meminfo». Το μέγεθος μνήμης θα εμφανίζεται ως 'MemTotal'.

#### 2. Τοπικός δίσκος

Για να μετρήσετε την καθυστέρηση και το εύρος ζώνης στον τοπικό δίσκο, μπορείτε να χρησιμοποιήσετε τα ακόλουθα εργαλεία:

- `ioping` για τη μέτρηση της καθυστέρησης του δίσκου.
  - Εγκατάσταση:
    ```
    $ sudo apt−get update
    $ sudo apt−get install ioping −y – 
    ```
  - Παράδειγμα χρήσης:
    ```
    $ ioping −c 20 /tmp/
    ```

- `fio` για τη μέτρηση του εύρους ζώνης δίσκου.
  - Εγκατάσταση: 
    ```
    $ sudo apt−get update
    $ sudo apt−get install fio −y
    ```
  - Παράδειγμα χρήσης: Για τη μέτρηση του εύρους ζώνης ανάγνωσης:
    ```
    $ fio −−randrepeat=1 −−ioengine=libaio −−direct=1 \ −−gtod reduce=1 −−name=fiotest −−filename=testfio \ −−bs=4k −−iodepth=64 −−size=1G −−readwrite=read
    ```

Για να βρείτε τις προδιαγραφές της μονάδας δίσκου, συμπεριλαμβανομένης της χωρητικότητας του δίσκου, μπορείτε να χρησιμοποιήσετε το εργαλείο `hdparm`.
  - Εγκατάσταση:

    ```
    $ sudo apt-get update
    $ sudo apt−get install hdparm −y
    ```

  - Παράδειγμα χρήσης: Για ανάκτηση πληροφοριών για τη συσκευή δίσκου `/dev/sda` 

    ```
    $ sudo hdparm -I /dev/sda
    ```

#### 3. Remote memory and disk 

Για να μετρήσετε την καθυστέρηση δικτύου και το εύρος ζώνης μεταξύ δύο μηχανών στη συστοιχία, μπορείτε να χρησιμοποιήσετε τα ακόλουθα εργαλεία:
- `ping` για τη μέτρηση της καθυστέρησης δικτύου.
  - Εγκατάσταση:
    ```
    $ sudo apt-get update
    $ sudo apt−get install iputils−ping −y
    ```
  - Παράδειγμα χρήσης: To measure the latency between `node0` and `node1`, run the following on `node0`:
    ```
    $ ping node1
    ```
- `iperf` για τη μέτρηση του εύρους ζώνης δικτύου.
  - Εγκατάσταση: 
    ```
    $ sudo apt−get update
    $ sudo apt−get install iperf−y
    ```
  - Παράδειγμα χρήσης: Για τη μέτρηση του εύρους ζώνης δικτύου μεταξύ `node0` και `node1`, εκτελέστε το iperf σε λειτουργία διακομιστή στο `node0`:
    ```
    $ iperf −s −i 1 −w 4M−u
    ```
    και εκτελέστε το iperf σε λειτουργία πελάτη στο `node1`:
    ```
    $ iperf −c node0 −e −i 1 −u −b 10m
    ```
    Σημείωση: Στο παραπάνω παράδειγμα, ο πελάτης χρησιμοποιεί ένα στοχευμένο εύρος ζώνης ίσο με 10MB/s μέσω της παραμέτρου `−b`, το οποίο ενδέχεται να μην φτάσει το όριο εύρους ζώνης του δικτύου. Θα πρέπει να δοκιμάσετε διάφορες αυξητικές τιμές για το εύρος ζώνης στόχου μέχρι να φτάσετε στο όριο.

## Βαθμολόγηση

| Πρόβλημα   | Βαθμολογία |
|------------|------------|
| Αποθετήριο | 20         |
| Q1.1       | 20         |
| Q1.2       | 30         |
| Q1.3       | 10         |
| Q2         | 30         |

## Υποβολή

Τώρα πρέπει να υποβάλετε την εργασία σας. Κάντε την αλλαγή σας και σπρώξτε την στο απομακρυσμένο αποθετήριο κάνοντας τα εξής:

```
$ git commit -am "[you fill me in]"
$ git push -u origin main
```

Μπορείτε να σπρώξετε τον κώδικα σας όσες φορές θέλετε, η βαθμολόγηση και ο χρόνος υποβολής θα βασιστούν στην τελευταία σας ώθηση.

Θα λαμβάνετε πλήρη βαθμολογία εφόσον περάσουν οι δοκιμές και δεν έχετε τροποποιήσει τα αρχεία δοκιμής ή δεν έχετε κωδικοποιήσει τα αποτελέσματα.

## Πώς μπορώ να χρησιμοποιήσω το Git;

Διαβάστε το [Git Quickstart](https://docs.github.com/en/get-started/quickstart/hello-world).

Η βασική ροή εργασίας git στο κέλυφος (υποθέτοντας ότι έχετε ήδη ρυθμίσει ένα αποθετήριο):

- git pull
- κάνε λίγη δουλειά
- git status (δείχνει τι έχει αλλάξει)
- git add όλα τα αρχεία που θέλετε να οριστικοποιήσετε
- git commit -m "σύντομο μήνυμα για την ενημέρωσή σας"
- git push

Όλες οι εργασίες προγραμματισμού απαιτούν Git για υποβολή.

Χρησιμοποιούμε το Github για τη διανομή και τη συλλογή των εργασιών σας. Θα πρέπει να έχετε ήδη [διχαλώσει](https://docs.github.com/en/get-started/quickstart/fork-a-repo) το [κύριο αποθετήριο του μαθήματος](https://github.com/ucy-coast/cs499-fa22/) στο ιδιωτικό σας αποθετήριο. Κανονικά, χρειάζεται να κλωνοποιήσετε το αποθετήριο μόνο μία φορά και θα έχετε όλα όσα χρειάζεστε για αυτήν την εργασία.

```
$ git clone git@github.com:user/repo.git
$ cd hw1
```

Τώρα, έχετε όλα όσα χρειάζεστε για να κάνετε την εργασία, δηλαδή οδηγίες και αρχικό κώδικα. Το Git σάς επιτρέπει να παρακολουθείτε τις αλλαγές που κάνετε στον κώδικα. Για παράδειγμα, εάν θέλετε να ελέγξετε την πρόοδό σας, μπορείτε να οριστικοποιήσετε τις αλλαγές σας εκτελώντας:

```
$ git commit -am 'μερική λύση για την ανάθεση 1'
```

Πρέπει να το κάνετε αυτό νωρίς και συχνά! Μπορείτε να προωθήσετε τις αλλαγές σας στο Github αφού προηγουμένως οριστικοποιήσετε  με:

```
$ git push origin main
```
